<analysis>Analyse and understand the summary before you start the task.

### original_problem_statement
The user wants a marketing website for their software, JustPeek. Initially, the goal was a simple, single-page catalog site with a red theme that collects user emails and directs users to Discord for purchases.

The project has since evolved significantly into a full-stack application with the following core requirements:
- **Product:** A marketing and sales portal for the JustPeek software.
- **Authentication:** Users can register and log in with an email and password. There is a distinction between regular users and an admin user.
- **Admin Panel:** A dedicated dashboard for the admin () to manage users (view/ban), view site statistics, and manage purchase requests.
- **Purchase Flow:** Logged-in users can create a purchase request by submitting their email and Discord username. These requests appear in the admin panel, where the admin can approve or reject them.
- **Notifications:** Users receive on-site notifications about the status (approved/rejected) of their purchase requests.
- **Internationalization (i18n):** The entire site must support both Turkish (tr) and English (en).
- **Pricing:** A pricing section displays different subscription plans. The prices are hidden from logged-out users to encourage registration.
- **Design:** A modern, premium, dark-themed site with red accents, featuring a custom stealth-themed logo.

### User's preferred language
Turkish (Türkçe). You MUST respond in Turkish.

### what currently exists?
- A full-stack application with a React frontend, FastAPI backend, and MongoDB database.
- User registration, login, and a JWT-based authentication system are in place.
- Backend APIs and frontend components for most features (auth, purchase requests, notifications, admin panel) have been created.
- The frontend and backend are integrated, and mock data has been replaced with live API calls.
- An i18n context () and a translations file exist.

### Last working item
The agent was attempting to fix a set of critical and recurring bugs reported by the user.

- **Last item agent was working:** The agent tried to implement fixes for three major issues at once:
    1.  **F5 Refresh Logout:** Attempted to fix by moving the auth token to  and adding logic to  to persist the session.
    2.  **Broken Bulk Delete:** Tried to fix an error in the admin panel's bulk delete feature for purchase requests.
    3.  **Incomplete Translations:** Modified components to correctly use the i18n context.
- **Status:** **BLOCKED**. The user reported that none of the fixes worked, and the primary issues persist. The agent needs to re-evaluate and debug these problems.
- **Agent Testing Done:** N
- **Which testing method agent to use?** It is highly recommended to use the **backend testing agent** to verify the  endpoint and the **frontend testing agent** to test the F5 refresh logout and i18n functionality. A full end-to-end test is necessary.
- **User Testing Done:** Y (User confirmed the issues are still present).

### All Pending/In progress Issue list
- **Issue 1:** F5 page refresh logs the user out. (Priority: **P0 - HIGHEST**)
- **Issue 2:** The bulk delete feature for purchase requests in the admin panel is broken, returning a 404 error. (Priority: **P1**)
- **Issue 3:** UI text is not fully translated. Some sections remain in Turkish even when English is selected. (Priority: **P2**)
- **Issue 4:** Implement the user's request to show pricing plans to all users but hide the actual prices from those who are not logged in. (Priority: **P2**)

---
### Issues Detail:
- **Issue 1: F5 Refresh Logs Out User (P0)**
    - **Attempted fixes:** The agent moved the token from  to  and added a  in  to re-validate the user on page load. This did not solve the problem.
    - **Next debug checklist:**
        1.  Verify that the  hook in  or  is correctly reading the token from  on initial render.
        2.  Check the  interceptor in . It must be correctly re-initialized with the auth token after a page refresh.
        3.  Use browser developer tools to confirm the token is present in  after login and that API calls after a refresh include the  header.
    - **Why fix this issue?** This is a critical usability failure. Users cannot maintain a session, which makes the application almost unusable.
    - **Status:** IN PROGRESS
    - **Is recurring issue?** Y
    - **Should Test frontend/backend/both after fix?** Both.
    - **Blocked on other issue:** No.

- **Issue 2: Bulk Delete Purchase Requests Fails (P1)**
    - **Attempted fixes:** The agent created a backend endpoint  and wired it to the frontend. The user's screenshot shows a  call failing with a 404, indicating a mismatch between the frontend call and the backend route.
    - **Next debug checklist:**
        1.  In , find the  function.
        2.  Ensure the API call is a **POST** request to , not a DELETE request to another URL.
        3.  In , confirm the route  exists and is correctly defined to handle a list of IDs.
    - **Why fix this issue?** This is a required feature for the admin to efficiently manage the platform.
    - **Status:** IN PROGRESS
    - **Is recurring issue?** Y
    - **Should Test frontend/backend/both after fix?** Both.
    - **Blocked on other issue:** No.

- **Issue 3: Incomplete Language Translation (P2)**
    - **Attempted fixes:** The agent wrapped text in the  and  components with the translation function. This was ineffective.
    - **Next debug checklist:**
        1.  Review . Ensure translation keys exist for the hardcoded Turkish text (e.g., , ).
        2.  Inspect  and  to ensure they are consuming the  and correctly using the  function for all text elements.
        3.  Check that the language switcher in the  correctly updates the global language state.
    - **Why fix this issue?** Fulfills the explicit user requirement for a fully bilingual application.
    - **Status:** IN PROGRESS
    - **Is recurring issue?** Y
    - **Should Test frontend/backend/both after fix?** Frontend.
    - **Blocked on other issue:** No.

- **Issue 4: Pricing Display Logic (P2)**
    - **Attempted fixes:** None.
    - **Next debug checklist:**
        1.  In , import and use the .
        2.  Wrap the price display and the Login to see prices message in conditional logic based on the  state from the context.
    - **Why fix this issue?** It's a new feature request from the user to incentivize sign-ups.
    - **Status:** NOT STARTED
    - **Is recurring issue?** N
    - **Should Test frontend/backend/both after fix?** Frontend.
    - **Blocked on other issue:** The F5 logout issue (P0) should ideally be fixed first, as it affects all authenticated views.

### In progress Task List:
There are no partially completed tasks; all current work is focused on resolving the critical bugs listed above.

### Upcoming and Future Tasks
- **P1: Profile Editing:** Create a page for users to edit their profile.
- **P1: Password Reset:** Implement a forgot password feature.
- **P2: Email Notifications:** Integrate an email service to notify users of registration, purchase status changes, etc.
- **P2: Advanced Admin Analytics:** Enhance the admin dashboard with more detailed charts and data.

### Completed work in this session
- **Full-Stack Foundation:** Built a React frontend, FastAPI backend, and connected them to a MongoDB database.
- **User Authentication:** Implemented user registration, login, and a protected admin role.
- **Purchase Request System:** Created the complete flow for users to submit purchase requests and for the admin to manage them.
- **Basic Admin Panel:** Developed a dashboard for user management and viewing requests.
- **Notification System:** Added backend models and API endpoints for an on-site notification system.
- **UI/UX:** Designed a new logo and implemented a dark theme with red accents as requested.

### Code Architecture


### Key Technical Concepts
- **Frontend:** React, React Router, TailwindCSS, Axios, React Context API
- **Backend:** FastAPI, Pydantic, Motor (async MongoDB driver)
- **Database:** MongoDB
- **Authentication:** JWT tokens with password hashing ()

### key DB schema
- **users**: 
- **purchase_requests**: 
- **notifications**: 

### All files of reference
- : Contains all backend logic. Key for debugging the bulk delete API.
- : Manages authentication state. The main file for fixing the F5 logout bug.
- : Contains the frontend logic for the broken bulk delete feature.
- , , : Components with i18n and conditional rendering issues.
- : Stores all strings for i18n.
- : The central axios configuration, important for the F5 logout bug.

### Critical Info for New Agent
- **PRIORITIZE THE BUGS:** You must resolve the pending issues, starting with the **P0 logout bug**, before adding any new features. The user is blocked and frustrated by these recurring problems.
- **TEST THOROUGHLY:** The previous agent failed to use the  after backend changes, leading to a cycle of failed fixes. After fixing a bug, especially a backend-related one like the bulk delete, you **MUST** call the testing agent to verify the fix end-to-end.
- **USER COMMUNICATION:** The user is very specific in their feedback. Read their last messages carefully. Address all points raised. Respond in Turkish.
- **DISCORD OAUTH:** The user explicitly rejected Discord OAuth. Do not implement or suggest it.

### Last 10 User Messages and any pending HUMAN messages
A sequential summary of the user's recent feedback:
1.  **Buy Now Flow Broken:** User reported the Buy Now button was still redirecting to Discord instead of the request form.
2.  **Login Required to Purchase:** User requested that creating a purchase request should require the user to be logged in.
3.  **Demo User Text:** User asked to remove the hardcoded demo credentials from the login page.
4.  **Purchase History UI:** User requested that the Purchase History page for new users should guide them to create a request.
5.  **Request Creation Error:** User reported an error when submitting a new purchase request.
6.  **Request Approval Error:** User reported an error when the admin tried to approve a request and that the user's message was not visible.
7.  **New Features Requested:** User asked for a notification system, a bulk delete feature for admins, and more premium marketing copy.
8.  **Stats & Pricing Info:** User provided new values for homepage stats, defined a new pricing structure, and again pointed out that i18n was incomplete.
9.  **Multiple Bugs Persist:** User confirmed the bulk delete error is still present, the F5 logout bug is happening, and i18n is still broken.
10. **LATEST: All Fixes Failed:** User reported that the agent's latest attempt to fix everything has failed. They also clarified the new pricing page logic: show plans to everyone, but hide prices from logged-out users. **This is the current state and your starting point.**

### Testing status
- **Testing agent used after significant changes:** NO
- **Test files created:** None
- **Known regressions:** Logout on refresh, broken bulk delete feature, incomplete translations.

### Credentials to test flow:
- **Admin:**  / 
- **Normal User:** Register a new one via the UI.

### What agent forgot to execute
- The previous agent repeatedly failed to follow the mandatory protocol of using  after making backend changes or attempting critical bug fixes. This directly led to the current state of recurring, unresolved issues.
- The agent did not fully test or complete the i18n implementation, leaving the feature in a broken state.</analysis>
